<!DOCTYPE html>
<html lang="utf-8">
<head>
  <meta charset="utf-8">
  <title>Hello...</title>
  <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous">
  </script>
</head>
<body>
    <form>
        <input type="text" id="input">
        <button id="button">go!</button>
    </form>
    <script type="text/javascript">
        var n = 1;

        function writeFile() {
            while (localStorage.getItem(n) != null) {
                n++;
            }
            localStorage.setItem(n, $("input").val());
            downloadInnerHtml("input", "data" + n);
        }

        function downloadInnerHtml(elementid, filename) {
            var elHtml = $(elementid).val();
            var link = document.createElement('a');
            link.setAttribute('download', filename + '.txt');
            link.setAttribute('href', 'data:txt' + ';charset=utf-8,' + encodeURIComponent(elHtml));
            link.click();
        }

        function start() {
            var button = document.getElementById("button");
            button.addEventListener("click", writeFile, false);
        }
        window.addEventListener("load", start, false);
    </script>
</body>

</html>
